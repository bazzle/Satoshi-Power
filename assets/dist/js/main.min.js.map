{"version":3,"file":"main.min.js","sources":["../../src/js/main.js"],"sourcesContent":["const container = document.querySelector('.currency-grid');\nconst tickerFetchUrl = \"https://blockchain.info/ticker\";\n\nlet btcData = {};\nlet currencyList = [];\nlet currenciesSmallerUnit = ['USD','GBP','EUR'];\n\n// Fetch data, populate btcData\nfunction fetchData(){\n    fetch(tickerFetchUrl)\n    .then((response) => {\n        return response.json();\n    })\n    .then((data) => {\n        btcData = data;\n    })\n    .catch((error) => {\n        console.log(`There was an error - ${error}`);\n    })\n    .finally((message) => {\n        console.log('Completed');\n    })\n}\n\n// Smallest unit\nfunction getSmallestUnit(currencies, price){\n    if(currenciesSmallerUnit.includes(currencies)){\n        return price * 100 / 100000000;\n    } else {\n        return price / 100000000;\n    }\n}\n\n// Object constructor\nfunction CurrencyItem(currencyName, price){\n    this.currencyName = currencyName\n    this.price = price\n    this.smallestUnitPrice = getSmallestUnit(currencyName, price)\n    this.percentage = Math.floor(this.smallestUnitPrice * 100) / 100;\n}\n\nfunction createCompareItem(name, price){\n    // create container\n    const compareItem = document.createElement('div');\n    compareItem.classList.add('compare-item');\n    // create text\n    const compareItemString = document.createElement('span');\n    compareItemString.classList.add('compare-item__string');\n    compareItemString.innerText = `${name} ${price}`\n    // bring it in\n    compareItem.append(compareItemString);\n    container.append(compareItem);\n};\n\n// Populate our currencyList array\nfunction addData(){\n    const entriesList = Object.entries(btcData);\n    entriesList.forEach((item) => {\n        const entryCurrencyName = item[0];\n        const entryCurrencyPrice = item[1]['buy'];\n        // Create object\n        const currencyListItem = new CurrencyItem(entryCurrencyName, entryCurrencyPrice);\n        currencyList.push(currencyListItem);\n    })\n}\n\n// Do things ----------------------------------\n\nfetchData();\n\nsetTimeout(() => {\n    addData();\n    currencyList.forEach((item) => {\n        console.log(item);\n        createCompareItem(item.currencyName, item.percentage);\n    });\n}, 2000);"],"names":[],"mappings":"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"}