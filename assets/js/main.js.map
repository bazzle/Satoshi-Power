{"version":3,"file":"main.js","sources":["../../src/js/Utilities.js","../../src/js/DataAddDetails.js","../../src/js/Variables.js","../../src/js/DomAddCurrency.js","../../src/js/DataFetchDisplay.js","../../src/js/DataModify.js","../../src/js/DataSort.js","../../src/js/main.js","../../src/js/NostrKeyDisplay.js"],"sourcesContent":["const Utilities = {\n    buildElement : (ElementType, elementClassName) => {\n        const domElement = document.createElement(ElementType);\n        domElement.classList.add(elementClassName);\n        return domElement;\n    },\n    getPercentage : (unitPrice) => {\n        return Math.floor(unitPrice * 100);\n    }\n}\n\nexport default Utilities;","import Utilities from \"./Utilities.js\";\n\n// Additional details object constructor\nfunction additionalDetails(price, unitName, smallUnitName){\n    this.unitName = unitName;\n    this.unitPrice = price / 100000000;\n    this.unitPercentage = Utilities.getPercentage(this.unitPrice);\n    this.smallUnitName = smallUnitName;\n    this.smallUnitPrice = this.unitName === this.smallUnitName ? this.unitPrice : price * 100 / 100000000;\n    this.smallUnitPercentage = Utilities.getPercentage(this.smallUnitPrice);\n    this.smallestUnitKilled = this.unitName != this.smallUnitName && this.smallUnitPercentage > 100;\n}\n\n// Add new rows to currency\nfunction DataAddDetails(symbol, price, data){\n    switch (symbol) {\n        case \"ARS\" : {\n            const newData = new additionalDetails(price, 'Argentine Peso', 'Argentine Peso');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"AUD\" : {\n            const newData = new additionalDetails(price, 'Australian Dollar', 'Australian Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"BRL\" : {\n            const newData = new additionalDetails(price, 'Brazilian Real', 'Brazilian Centavo');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"CAD\" : {\n            const newData = new additionalDetails(price, 'Canadian Dollar', 'Canadian Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"CHF\" : {\n            const newData = new additionalDetails(price, 'Swiss Franc', 'Swiss Rappen');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"CLP\" : {\n            const newData = new additionalDetails(price, 'Chilean Peso', 'Chilean Peso');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"CNY\" : {\n            const newData = new additionalDetails(price, 'Chinese Yuan', 'Chinese Fen');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"CZK\" : {\n            const newData = new additionalDetails(price, 'Czech Koruna', 'Czech Haléř');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"DKK\" : {\n            const newData = new additionalDetails(price, 'Danish Krone', 'Danish Øre');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"EUR\" : {\n            const newData = new additionalDetails(price, 'Euro', 'Euro Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"GBP\" : {\n            const newData = new additionalDetails(price, 'Pound Sterling', 'British Penny');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"HKD\" : {\n            const newData = new additionalDetails(price, 'Hong Kong Dollar', 'Hong Kong Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"HRK\" : {\n            const newData = new additionalDetails(price, 'Croatian Kuna', 'Croatian Lipa');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"HUF\" : {\n            const newData = new additionalDetails(price, 'Hungarian Forint', 'Hungarian Forint');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"INR\" : {\n            const newData = new additionalDetails(price, 'Indian Rupee', 'Indian Paisa');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"ISK\" : {\n            const newData = new additionalDetails(price, 'Icelandic Króna', 'Icelandic Króna');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"JPY\" : {\n            const newData = new additionalDetails(price, 'Japanese Yen', 'Japanese Yen');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"KRW\" : {\n            const newData = new additionalDetails(price, 'South Korean Won', 'South Korean Won');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"NZD\" : {\n            const newData = new additionalDetails(price, 'New Zealand Dollar', 'New Zealand Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"PLN\" : {\n            const newData = new additionalDetails(price, 'Polish Złoty', 'Polish Grosz');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"RON\" : {\n            const newData = new additionalDetails(price, 'Romanian Leu', 'Romanian Ban');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"RUB\" : {\n            const newData = new additionalDetails(price, 'Russian Ruble', 'Russian Kopek');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"SEK\" : {\n            const newData = new additionalDetails(price, 'Swedish Krona', 'Swedish Öre');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"SGD\" : {\n            const newData = new additionalDetails(price, 'Singapore Dollar', 'Singapore Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"THB\" : {\n            const newData = new additionalDetails(price, 'Thai Baht', 'Thai Satang');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"TRY\" : {\n            const newData = new additionalDetails(price, 'Turkish Lira', 'Turkish Kuruş');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"TWD\" : {\n            const newData = new additionalDetails(price, 'New Taiwan Dollar', 'Taiwanese Cent');\n            Object.assign(data, newData);\n            break;\n        }\n        case \"USD\" : {\n            const newData = new additionalDetails(price, 'United States Dollar', 'United States Cent');\n            Object.assign(data, newData);\n            break;\n        }\n    }\n    \n};\n\n\nexport default DataAddDetails;","import Utilities from './Utilities.js';\n\n// DOM elements\nconst container = document.getElementById('js-app');\nconst currencyGrid = Utilities.buildElement('ul', 'o-currencygrid');\n\nexport {container, currencyGrid}","import Utilities from \"./Utilities.js\";\nimport {currencyGrid} from \"./Variables.js\";\n\n// Adds currency to the DOM\n\nfunction DomAddCurrency(obj){\n\tconst unitName = obj.unitName;\n\tconst unitPrice = obj.unitPrice;\n\tconst unitPercentage = obj.unitPercentage;\n\tconst smallUnitName = obj.smallUnitName;\n\tconst smallUnitPrice = obj.smallUnitPrice;\n\tconst smallUnitPercentage = obj.smallUnitPercentage;\n\tconst smallestUnitKilled = obj.smallestUnitKilled;\n\n\tlet itemTextString = unitPercentage < 1 ? `${unitName} <1%` : `${unitName} ${unitPercentage}%`;\n\tlet itemTextStringSmall = `${smallUnitName} ${smallUnitPercentage}%`;\n\n\tconst item = Utilities.buildElement('li', 'c-currencyitem');\n\n\tconst itemMain = Utilities.buildElement('div', 'c-currencyitem__main');\n\tconst itemMainText = Utilities.buildElement('span', 'c-currencyitem__main__text');\n\titemMain.append(itemMainText);\n\titemMainText.innerText = itemTextStringSmall;\n\titem.append(itemMain);\n\n\tif (smallestUnitKilled){\n\t\tconst itemSecondary = Utilities.buildElement('div','c-currencyitem__secondary');\n\t\tconst itemSecondaryText = Utilities.buildElement('span', 'c-currencyitem__secondary__text');\n\t\titemSecondary.append(itemSecondaryText);\n\t\titemSecondaryText.innerText = itemTextString;\n\t\titem.append(itemSecondary);\n\t}\n\n\t\n\t\n\n\t\n\n\n\tcurrencyGrid.append(item);\n}\n\nexport default DomAddCurrency;","import DataModify from './DataModify.js';\nimport DataSort from './DataSort.js';\nimport DomAddCurrency from './DomAddCurrency.js';\nimport {container, currencyGrid} from \"./Variables.js\";\n\n// Data\nconst tickerFetchUrl = \"https://blockchain.info/ticker\";\nlet fetchedData;\n\nasync function DataFetchDisplay(){\n\ttry {\n\t\tfetchedData = await fetch(tickerFetchUrl);\n\t\tfetchedData = await fetchedData.json();\n\t} catch (error) {\n\t\tconsole.log('No data');\n\t} finally {\n\t\tcontainer.append(currencyGrid);\n\t\tDataModify(fetchedData);\n\t\tfetchedData = DataSort(fetchedData);\n\t\tfor (const currencyItem in fetchedData) {\n\t\t\tconsole.log(fetchedData[currencyItem]);\n\t\t\tDomAddCurrency(fetchedData[currencyItem]);\n\t\t}\n\t}\n}\n\nexport default DataFetchDisplay;","import DataAddDetails from './DataAddDetails.js'\n\n// Modify the data\n// Remove data that isn't needed\n// Add more data rows\n\nfunction DataModify(importedData){\n\tfor (const currencyItem in importedData) {\n\t\tlet details = importedData[currencyItem];\n\t\tconst symbol = details['symbol'];\n\t\tconst price = details['sell'];\n\t\tconst deleteDeets = ['15m', 'buy', 'last'];\n\t\tdeleteDeets.forEach((item) => {\n\t\t\tdelete details[item];\n\t\t})\n\t\tDataAddDetails(symbol, price, details);\n\t}\n};\n\nexport default DataModify;","function DataSort(importedData){\n\timportedData = Object.entries(importedData);\n\timportedData.sort((a, b) => a[1].smallUnitPercentage - b[1].smallUnitPercentage);\n\timportedData = Object.fromEntries(importedData);\n\t// console.log(Object.fromEntries(importedData));\n\treturn importedData;\n};\n\nexport default DataSort;","import DataFetchDisplay from \"./DataFetchDisplay\";\nimport nostrKeyDisplay from \"./NostrKeyDisplay\";\n\nDataFetchDisplay();\nnostrKeyDisplay();","import Utilities from './Utilities.js';\n\nfunction NostrKeyDisplay(){\n\n    const nostrPubKey = \"npub1y73ajm09j3wra8jj9e3h8rkj3xculh520m9plgc6j57rkg7g0yyqt5p5dt\";\n    const nostrPubKeyFirstPart = () => {\n        return nostrPubKey.substring(0, 15);\n    }\n    const nostrPubKeyLastPart = () => {\n        return nostrPubKey.slice(-15);\n    }\n    const nostrPubKeyDisplay = `${nostrPubKeyFirstPart()}...${nostrPubKeyLastPart()}`;\n    const copySuccessMessage = Utilities.buildElement('span','c-nostr-copy__message');\n    copySuccessMessage.innerHTML = 'Copied';\n    const nostrContainer = document.getElementById('js-nostr-key');\n    const nostrButton = document.getElementById('js-nostr-copy');\n    const copyIcon = document.querySelector('.js-copy-icon');\n    \n    nostrContainer.innerText = nostrPubKeyDisplay;\n    \n    nostrButton.addEventListener('click', () => {\n        copyKey();\n    });\n\n    function copyFeedback(){\n        nostrButton.append(copySuccessMessage);\n        copyIcon.remove();\n        console.log('copied');\n        setTimeout(() => {\n            nostrButton.append(copyIcon);\n            copySuccessMessage.remove();\n        }, 2000)\n    }\n\n    function copyKey(){\n        navigator.clipboard.writeText(nostrPubKey)\n        .then(function() {\n            console.log('copied');\n            copyFeedback();\n        })\n        .catch(function(err) {\n            console.error('Failed to copy text to clipboard: ', err);\n        });\n    }\n}\n\n\nexport default NostrKeyDisplay;"],"names":["Utilities","buildElement","ElementType","elementClassName","domElement","document","createElement","classList","add","getPercentage","unitPrice","Math","floor","additionalDetails","price","unitName","smallUnitName","this","unitPercentage","smallUnitPrice","smallUnitPercentage","smallestUnitKilled","DataAddDetails","symbol","data","newData","Object","assign","container","getElementById","currencyGrid","DomAddCurrency","obj","itemTextString","itemTextStringSmall","item","itemMain","itemMainText","append","innerText","itemSecondary","itemSecondaryText","fetchedData","async","fetch","json","error","console","log","importedData","currencyItem","details","forEach","DataModify","entries","sort","a","b","fromEntries","DataFetchDisplay","nostrPubKey","nostrPubKeyDisplay","substring","slice","copySuccessMessage","innerHTML","nostrContainer","nostrButton","copyIcon","querySelector","addEventListener","navigator","clipboard","writeText","then","remove","setTimeout","catch","err","nostrKeyDisplay"],"mappings":"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"}